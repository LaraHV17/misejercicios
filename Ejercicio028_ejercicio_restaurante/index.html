<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurantes</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="restaurantes">

        <!-- Modo hardcode
        
        <div class="restaurante">
            <div class="imagen">
                <img src="./images/hakuna_matata_veggie.jpg">
            </div>
            <div class="descripción">
                <div class="nombre">Hakuna Matata</div>
                <div class="tipo">Mediterránea</div>
                <div class="direccion">C. de Galileo, 12, Chamberí, 28015, Madrid</div>
                <div class="precio">Precio por persona 20 - 30 €</div>
            </div>

        </div>
        <hr>

        <div class="restaurante">
            <div class="imagen">
                <img src="images/mad_mad_vegan.jpg">
            </div>
            <div>
                <h1>Mad Mad Vegan</h1>
                <p>C. de Lavapiés, 16, 28012, Madrid</p>
                <p>Precio por persona 15 - 20 €</p>
            </div>
        </div>
    -->
    </div>
</body>

</html>
<script src="./scripts/http-client.js"></script>
<script src="./scripts/generador_filas.js"></script>
<script>
    var arrayRestaurantes;



    doGetHTTPRequest("http://127.0.0.1", "5500", "restaurantes.json", procesarRestaurantes,
        procesarError);

    function procesarRestaurantes(texto) {
        let objetoServidor = JSON.parse(texto);
        arrayRestaurantes = objetoServidor.restaurantes;
        arrayRestaurantes.forEach(restaurante => {
            crearFila(restaurante.imagen, restaurante.nombre, restaurante.tipo, restaurante.direccion,
                restaurante.precio);
        });
    }

    function procesarError(err) {
        console.error(err);
    }
</script>